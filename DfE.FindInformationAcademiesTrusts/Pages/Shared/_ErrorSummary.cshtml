@model Microsoft.AspNetCore.Mvc.RazorPages.PageModel

@if (!Model.ModelState.IsValid)
{
  <div class="govuk-error-summary" aria-labelledby="error-summary-title" tabindex="-1" data-module="govuk-error-summary">
    <div role="alert">
      <h2 class="govuk-error-summary__title" id="error-summary-title">
        There is a problem
      </h2>
      <div class="govuk-error-summary__body">
        <ul class="govuk-list govuk-error-summary__list" data-testid="error-summary">
          @foreach (var (key, modelState) in Model.ModelState)
          {
            @foreach (var error in modelState.Errors)
            {
              <li>
                <a href="#@key" data-testid="error-link-@key">@error.ErrorMessage</a>
              </li>
            }
          }
        </ul>
      </div>
    </div>
  </div>
}

@{
  var returnPath = string.IsNullOrWhiteSpace(Context.Request.Query["returnPath"]) ? Context.Request.Path + Context.Request.QueryString : Context.Request.Query["returnPath"].ToString();
}

@if (!Context.Request.Cookies.ContainsKey(CookiesModel.ConsentCookieName) && TempData["DeleteCookies"] is null)
{
  <div class="govuk-cookie-banner " data-nosnippet role="region" aria-label="Cookies on Find Infomation about Academies and Trusts">
    <div class="govuk-cookie-banner__message govuk-width-container">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <h2 class="govuk-cookie-banner__heading govuk-heading-m">Cookies on Find Infomation about Academies and Trusts</h2>
          <div class="govuk-cookie-banner__content">
            <p class="govuk-body">We use some essential cookies to make this service work.</p>
            <p class="govuk-body">We’d also like to use analytics cookies so we can understand how you use the service and make improvements.</p>
          </div>
        </div>
      </div>
      <div class="govuk-button-group">
        <a role="button" draggable="false" class="govuk-button govuk-!-margin-bottom-2" asp-page="/cookies" asp-route-consent="true" asp-route-returnPath="@returnPath">
          Accept analytics cookies
        </a>
        <a role="button" draggable="false" class="govuk-button govuk-!-margin-bottom-2" asp-page="/cookies" asp-route-consent="false" asp-route-returnPath="@returnPath">
          Reject analytics cookies
        </a>
        <a class="govuk-link" asp-page="/cookies" asp-route-returnPath="@returnPath">View cookies</a>
      </div>
    </div>
  </div>
}

@if (TempData[CookiesModel.CookieChangedTempDataName] is not null)
{
  <div class="govuk-cookie-banner " data-nosnippet role="region" aria-label="Cookies on Find Infomation about Academies and Trusts">
    <div class="govuk-cookie-banner__message govuk-width-container">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <div class="govuk-cookie-banner__content">
            <p class="govuk-body">You’ve @(TempData[CookiesModel.DeleteCookieTempDataName] is null ? "accepted" : "rejected") additional cookies. You can <a class="govuk-link" asp-page="/cookies" asp-route-returnPath="@returnPath">change your cookie settings</a> at any time.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
}

@page
@model GovernanceModel

@{
  Layout = "_TrustLayout";
}

<section class="govuk-!-margin-top-4 govuk-!-margin-bottom-9 app-table-container">
  <h3>Trust Leadership</h3>
  @if (Model.TrustGovernance.TrustLeadership.Length > 0)
  {
    <table class="govuk-table" data-module="moj-sortable-table" aria-describedby="trust-leadership">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="ascending">Name</th>
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="none">Role</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">From</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">To</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        @foreach (var governor in Model.TrustGovernance.TrustLeadership)
        {
          <tr class="govuk-table__row" data-testid="academy-row">
            <th scope="row" class="govuk-body govuk-table__header" data-sort-value="@governor.FullName" data-testid="school-name">
              @governor.FullName
            </th>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.Role" data-testid="phase-and-age-range">
              @governor.Role
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfAppointment?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-numbers">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfAppointment)
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfTermEnd?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-capacity">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfTermEnd)
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
  else
  {
    <span>No Trust Leadership</span>
  }
</section>
<section class="govuk-!-margin-top-4 govuk-!-margin-bottom-9 app-table-container">
  <h3>Trustees</h3>
  @if (Model.TrustGovernance.Trustees.Length > 0)
  {
    <table class="govuk-table" data-module="moj-sortable-table" aria-describedby="trust-leadership">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="ascending">Name</th>
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="none">Appointed by</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">From</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">To</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        @foreach (var governor in Model.TrustGovernance.Trustees)
        {
          <tr class="govuk-table__row" data-testid="academy-row">
            <th scope="row" class="govuk-body govuk-table__header" data-sort-value="@governor.FullName" data-testid="school-name">
              @governor.FullName
            </th>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.AppointingBody" data-testid="phase-and-age-range">
              @governor.AppointingBody
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfAppointment?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-numbers">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfAppointment)
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfTermEnd?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-capacity">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfTermEnd)
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
  else
  {
    <span>No Trustees</span>
  }
</section>
<section class="govuk-!-margin-top-4 govuk-!-margin-bottom-9 app-table-container">
  <h3>Members</h3>
  @if (Model.TrustGovernance.Members.Length > 0)
  {
    <table class="govuk-table" data-module="moj-sortable-table" aria-describedby="trust-leadership">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="ascending">Name</th>
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="none">Appointed by</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">From</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">To</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        @foreach (var governor in Model.TrustGovernance.Members)
        {
          <tr class="govuk-table__row" data-testid="academy-row">
            <th scope="row" class="govuk-body govuk-table__header" data-sort-value="@governor.FullName" data-testid="school-name">
              @governor.FullName
            </th>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.AppointingBody" data-testid="phase-and-age-range">
              @governor.AppointingBody
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfAppointment?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-numbers">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfAppointment)
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfTermEnd?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-capacity">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfTermEnd)
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
  else
  {
    <span>No Members</span>
  }
</section>
<section class="govuk-!-margin-top-4 govuk-!-margin-bottom-9 app-table-container">
  <h3>Historic members</h3>
  @if (Model.TrustGovernance.HistoricMembers.Length > 0)
  {
    <table class="govuk-table" data-module="moj-sortable-table" aria-describedby="trust-leadership">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="ascending">Name</th>
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="none">Role</th>
          <th scope="col" class="govuk-body govuk-table__header" aria-sort="none">Appointed by</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">From</th>
          <th scope="col" class="govuk-body govuk-table__header column-header-date" aria-sort="none">To</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        @foreach (var governor in Model.TrustGovernance.HistoricMembers)
        {
          <tr class="govuk-table__row" data-testid="academy-row">
            <th scope="row" class="govuk-body govuk-table__header" data-sort-value="@governor.FullName" data-testid="school-name">
              @governor.FullName
            </th>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.Role" data-testid="phase-and-age-range">
              @governor.Role
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.AppointingBody" data-testid="phase-and-age-range">
              @governor.AppointingBody
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfAppointment?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-numbers">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfAppointment)
            </td>
            <td class="govuk-body govuk-table__cell" data-sort-value="@governor.DateOfTermEnd?.ToString(StringFormatConstants.SortDate)" data-testid="pupil-capacity">
              @Model.ShowFormmatedDateOrNoData(governor.DateOfTermEnd)
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
  else
  {
    <span>No Historic Members</span>
  }
</section>
